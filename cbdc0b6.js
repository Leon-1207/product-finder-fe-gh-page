(window.webpackJsonp=window.webpackJsonp||[]).push([[13,8],{292:function(t,e,n){"use strict";n.r(e);n(14),n(33),n(265),n(188),n(252),n(266),n(34),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(35);var l=n(263),r=n.n(l),o={components:{ProductListItem:n(264).default},emits:["availableFilterOptionsChanged","numberOfResultsChanged"],data:function(){return{products:[],filters:{},productsAvailableFilterOptions:{},freezeProductFiltering:!1,numberOfResults:null}},created:function(){var t=this;this.debouncedUpdateAvailableFilterOptionsChanged=r.a.debounce((function(){var e=0,n={};Object.values(t.productsAvailableFilterOptions).forEach((function(t){Object.entries(t).forEach((function(t){var l=t[0];if("numberOfResults"===l){var r=Number(t[1]);e+=isNaN(r)?0:r}else{var o=t[1]||[];n[l]?o.forEach((function(t){n[l].add(t)})):n[l]=new Set(o)}}))})),this.numberOfResults=e,t.$emit("availableFilterOptionsChanged",n),this.freezeProductFiltering||this.$emit("numberOfResultsChanged",this.numberOfResults)}),100)},mounted:function(){this.loadProducts()},methods:{getProviderId:function(){var t=document.getElementById("product-finder-wrapper");if(!t)return null;var e=t.getAttribute("data-anbieter-id");return"string"==typeof e&&e.length>0?e:null},loadProducts:function(){var t=this,e=function(){t.products=[]},n=this.getProviderId();n?this.$axios.get("https://dev.wirtschaftswunder.digital/api/open_v1/products/index?anbieter_id="+n).then((function(n){200===(null==n?void 0:n.status)?t.products=Array.isArray(n.data)?n.data:[]:e()})).catch(e):e()},applyFilters:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.freezeProductFiltering=e,this.filters=t},updateListOfAllAvailableFilterOptions:function(t,e){this.productsAvailableFilterOptions[t]=e,this.debouncedUpdateAvailableFilterOptionsChanged()}}},d=o,c=n(46),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col gap-5 md:gap-12"},t._l(t.products,(function(e){return n("product-list-item",{key:e.id,ref:String(e.id),refInFor:!0,attrs:{"product-data":e,filters:t.filters,"freeze-product-filtering":t.freezeProductFiltering},on:{availableFilterOptionsChanged:t.updateListOfAllAvailableFilterOptions}})})),1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ProductListItem:n(264).default})},301:function(t,e,n){t.exports={}},302:function(t,e,n){t.exports={}},303:function(t,e,n){t.exports={}},304:function(t,e,n){t.exports={}},305:function(t,e,n){t.exports={}},307:function(t,e,n){t.exports=n.p+"img/filterBackground.21fb465.jpg"},322:function(t,e,n){"use strict";n(301)},323:function(t,e,n){"use strict";n(302)},324:function(t,e,n){"use strict";n(303)},325:function(t,e,n){"use strict";n(304)},326:function(t,e,n){"use strict";n(305)},327:function(t,e,n){"use strict";n.r(e);n(75);var l=n(263),r=n.n(l),o=n(306),d={name:"IndexPage",components:{productList:n(292).default,FilterMenu:o.default},data:function(){return{filters:{},freezeProductFiltering:!1,numberOfResults:null,loadingNewNumberOfResults:!1}},watch:{numberOfResults:function(t,e){var n=this;t!==e&&(this.loadingNewNumberOfResults=!0,setTimeout((function(){n.loadingNewNumberOfResults=!1}),1e3))}},created:function(){var t=this;this.debouncedUpdateProductList=r.a.debounce((function(){t.$refs.productList.applyFilters(t.filters,t.freezeProductFiltering)}),100)},methods:{updateFilters:function(t,e){this.filters=t,this.freezeProductFiltering=!!e,e||(this.numberOfResults=null),this.debouncedUpdateProductList()},setNumberOfResults:function(t){this.numberOfResults=t}}},c=(n(322),n(323),n(324),n(325),n(326),n(46)),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"app lg:container lg:px-2 lg:mx-auto overflow-hidden lg:pb-10",attrs:{id:"product-finder"}},[l("div",{staticClass:"\n      bg-booking-light\n      mx-auto\n      lg:mt-10 lg:rounded-lg\n      shadow-lg\n      max-w-5xl\n      overflow-hidden\n      relative\n      pb-8\n    "},[l("div",{staticClass:"w-full mb-2"},[l("div",{staticClass:"w-full sm:h-72 relative pt-24 sm:pt-0"},[l("div",{staticClass:"skeleton-loading absolute left-0 top-0 w-full h-full"}),t._v(" "),l("img",{staticClass:"object-cover absolute top-0 left-0 w-full h-full min-h-full",attrs:{src:n(307)}}),t._v(" "),l("div",{staticClass:"\n            absolute\n            top-1/3\n            left-0\n            w-full\n            bottom-0\n            bg-gradient-to-b\n            from-transparent\n            to-booking-light\n          "}),t._v(" "),l("div",{staticClass:"sm:py-5 relative sm:absolute left-0 w-full bottom-0 py-4 _px"},[l("filter-menu",{ref:"filterMenu",on:{filtersChanged:t.updateFilters},model:{value:t.filters,callback:function(e){t.filters=e},expression:"filters"}})],1),t._v(" "),l("div",{staticClass:"absolute w-full top-0 left-0 _px"},[l("div",{staticClass:"\n              rounded-full\n              bg-boxColor\n              relative\n              top-5\n              w-20\n              h-20\n              flex flex-col\n              items-center\n              justify-center\n              shadow-lg\n              border border-solid border-gray-300\n              text-accentColor-light\n            ",class:{rotate:t.loadingNewNumberOfResults}},[l("div",{staticClass:"contents"},[l("span",{staticClass:"text-4xl font-bold"},[t._v(t._s(t.numberOfResults))])])])])])]),t._v(" "),l("div",{staticClass:"py-2 sm:py-5 _px"},[l("product-list",{ref:"productList",on:{availableFilterOptionsChanged:function(e){return t.$refs.filterMenu.updateAvailableFilterOptions(e)},numberOfResultsChanged:t.setNumberOfResults}})],1)])])}),[],!1,null,"6954825e",null);e.default=component.exports;installComponents(component,{FilterMenu:n(306).default,ProductList:n(292).default})}}]);