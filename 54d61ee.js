(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{264:function(t,e,n){"use strict";function r(){return document.getElementById("product-finder-wrapper")}n.d(e,"a",(function(){return r}))},293:function(t,e,n){"use strict";n.r(e);n(14),n(33),n(283),n(188),n(252),n(266),n(34),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(35),n(48),n(49),n(72),n(73);var r=n(263),l=n.n(r),o=n(265),d=n(264),c={components:{ProductListItem:o.default},emits:["availableFilterOptionsChanged","numberOfResultsChanged"],data:function(){return{products:[],filters:{},productsAvailableFilterOptions:{},freezeProductFiltering:!1,numberOfResults:null}},created:function(){var t=this;this.debouncedUpdateAvailableFilterOptionsChanged=l.a.debounce((function(){var e=function(t){return"allDateRanges"===t||"availableDateRanges"===t},n=0,r={};Object.values(t.productsAvailableFilterOptions).forEach((function(t){Object.entries(t).forEach((function(t){var l=t[0];if("numberOfResults"===l){var o=Number(t[1]);n+=isNaN(o)?0:o}else{var d=t[1]||[];r[l]?d.forEach((function(t){r[l].add(e(l)?t:JSON.stringify(t))})):r[l]=e(l)?new Set(d):new Set(d.map((function(t){return JSON.stringify(t)})))}}))})),this.numberOfResults=n,Object.entries(r).forEach((function(t){var n=t[0];if(e(n))return null;var l=t[1],o=Array.from(l).map((function(t){return JSON.parse(t)})),d=new Set(o);r[n]=d})),t.$emit("availableFilterOptionsChanged",r),this.freezeProductFiltering||this.$emit("numberOfResultsChanged",this.numberOfResults)}),100)},mounted:function(){this.loadProducts()},methods:{isLocalTestMode:function(){return String(document.URL).includes("localhost")&&!Object(d.a)()},getProviderId:function(){if(this.isLocalTestMode())return"2";var t=Object(d.a)();if(!t)return null;var e=t.getAttribute("data-anbieter-id");return"string"==typeof e&&e.length>0?e:null},loadProducts:function(){var t=this,e=function(){t.products=[]},n=this.getProviderId();n?this.$axios.get("https://dev.wirtschaftswunder.digital/api/open_v1/products/index?anbieter_id="+n).then((function(n){200===(null==n?void 0:n.status)?t.products=Array.isArray(n.data)?n.data:[]:e()})).catch(e):e()},applyFilters:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.freezeProductFiltering=e,this.filters=t},updateListOfAllAvailableFilterOptions:function(t,e){this.productsAvailableFilterOptions[t]=e,this.debouncedUpdateAvailableFilterOptionsChanged()}}},f=c,h=n(46),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col gap-5 md:gap-12"},t._l(t.products,(function(e){return n("product-list-item",{key:e.id,ref:String(e.id),refInFor:!0,attrs:{"product-data":e,filters:t.filters,"freeze-product-filtering":t.freezeProductFiltering},on:{availableFilterOptionsChanged:t.updateListOfAllAvailableFilterOptions}})})),1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ProductListItem:n(265).default})}}]);