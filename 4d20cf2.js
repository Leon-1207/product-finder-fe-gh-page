(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{295:function(t,e,n){"use strict";n.r(e);n(14),n(35),n(284),n(189),n(252),n(257),n(32),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(33),n(47),n(49),n(40);var r=n(282),l=n.n(r),o=n(283),c=n(256),d={components:{ProductListItem:o.default},emits:["availableFilterOptionsChanged","numberOfResultsChanged"],data:function(){return{products:[],filters:{},productsAvailableFilterOptions:{},freezeProductFiltering:!1,numberOfResults:null}},created:function(){var t=this;this.debouncedUpdateAvailableFilterOptionsChanged=l.a.debounce((function(){var e=function(t){return"allDateRanges"===t||"availableDateRanges"===t},n=0,r={};Object.values(t.productsAvailableFilterOptions).forEach((function(t){Object.entries(t).forEach((function(t){var l=t[0];if("numberOfResults"===l){var o=Number(t[1]);n+=isNaN(o)?0:o}else{var c=t[1]||[];r[l]?c.forEach((function(t){r[l].add(e(l)?t:JSON.stringify(t))})):r[l]=e(l)?new Set(c):new Set(c.map((function(t){return JSON.stringify(t)})))}}))})),this.numberOfResults=n,Object.entries(r).forEach((function(t){var n=t[0];if(e(n))return null;var l=t[1],o=Array.from(l).map((function(t){return JSON.parse(t)})),c=new Set(o);r[n]=c})),t.$emit("availableFilterOptionsChanged",r),this.freezeProductFiltering||this.$emit("numberOfResultsChanged",this.numberOfResults)}),100)},mounted:function(){this.loadProducts()},methods:{loadProducts:function(){var t=this,e=function(){t.products=[]},n=Object(c.d)(),r=function(t){var e=String(t.id);return!n.has(e)},l=Object(c.c)();l?this.$axios.get("https://dev.wirtschaftswunder.digital/api/open_v1/products/index?anbieter_id="+l).then((function(n){200===(null==n?void 0:n.status)?t.products=Array.isArray(n.data)?n.data.filter(r):[]:e()})).catch(e):e()},applyFilters:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.freezeProductFiltering=e,this.filters=t},updateListOfAllAvailableFilterOptions:function(t,e){this.productsAvailableFilterOptions[t]=e,this.debouncedUpdateAvailableFilterOptionsChanged()}}},f=d,h=n(46),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col gap-5 md:gap-12"},t._l(t.products,(function(e){return n("product-list-item",{key:e.id,ref:String(e.id),refInFor:!0,attrs:{"product-data":e,filters:t.filters,"freeze-product-filtering":t.freezeProductFiltering},on:{availableFilterOptionsChanged:t.updateListOfAllAvailableFilterOptions}})})),1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ProductListItem:n(283).default})}}]);